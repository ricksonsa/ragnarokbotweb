<nz-space nzSize="middle">
  <button (click)="goBack()" *nzSpaceItem nz-button nzType="default">
    <nz-icon nzType="arrow-left"></nz-icon>
    Custom Tasks
  </button>
  <button *nzSpaceItem nz-button nzType="primary" (click)="save()" [nzLoading]="loading">
    Save Task
  </button>
</nz-space>
<br>
<br>
<div class="main">
  <nz-card nzTitle="Custom Scheduled Task" nzSize="small">
    <form nz-form [formGroup]="taskForm">
      <nz-form-item>
        <nz-form-label [nzSpan]="0" nzFor="name" nzRequired>Task Name</nz-form-label>
        <nz-form-control [nzSpan]="24" nzErrorTip="Please input the name!">
          <input formControlName="name" nz-input name="name" type="text" id="name" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="0" nzFor="description">Description</nz-form-label>
        <nz-form-control [nzSpan]="24">
          <textarea formControlName="description" nz-input name="description" type="text" id="description"></textarea>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item nzAlign="middle">
        <nz-form-label [nzSpan]="0" nzFor="enabled">Enabled</nz-form-label>
        <nz-form-control [nzSpan]="2">
          <label nz-checkbox formControlName="enabled"></label>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="0" nzFor="taskType">Task Type</nz-form-label>
        <nz-form-control [nzSpan]="24">
          <nz-select formControlName="taskType" name="taskType" nzPlaceHolder="">
            <nz-option nzLabel="Bot Commands Execute All" [nzValue]="0"></nz-option>
            <nz-option nzLabel="Bot Commands Execute One Randomly" [nzValue]="1"></nz-option>
            <nz-option nzLabel="Server Settings Configuration" [nzValue]="2"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item nzRequired>
        <nz-form-label [nzSpan]="0" nzFor="email">Execution Time</nz-form-label>
        <nz-form-control [nzSpan]="24">
          <cron-editor [(ngModel)]="cron" (ngModelChange)="onCronChange($event)" [ngModelOptions]="{standalone: true}"
            [options]="cronOptions"></cron-editor>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item nzAlign="top">
        <nz-form-label [nzSpan]="0" nzFor="isBlockPurchaseRaidTime">Block During Raid Time</nz-form-label>
        <nz-form-control [nzSpan]="24" nzExtra="Determine whether this Task will be executed during raid
          period or not.">
          <label nz-checkbox formControlName="isBlockPurchaseRaidTime"></label>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="0" nzFor="minPlayerOnline">Minimum Player Required</nz-form-label>
        <nz-form-control [nzSpan]="24" nzExtra="The minimum number of players online required to start the event. Leave it blank for always
          start idepentently of players online." nzErrorTip="The interval have to be greater then 10 seconds.">
          <input formControlName="minPlayerOnline" nz-input name="minPlayerOnline" type="number" id="minPlayerOnline" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="0" nzFor="startMessage">Start Message</nz-form-label>
        <nz-form-control [nzSpan]="24" nzExtra="The message the will be sent when this tasks start running.">
          <input formControlName="startMessage" nz-input name="startMessage" type="text" id="startMessage" />
        </nz-form-control>
      </nz-form-item>
    </form>
  </nz-card>

  <nz-card *ngIf="GetCommandValuesTitle()" [nzTitle]="GetCommandValuesTitle()" nzSize="small">
    <form nz-form>
      <nz-form-item>
        <nz-form-label nzFor="" nzSpan="24">
          Enter the commands below, each line represents a command or a text the the bot will perform.
        </nz-form-label>
        <nz-form-control [nzSpan]="24"
          nzExtra="Add # at the beginning of the line to execute a command ex: #spawnitem weapon_akm">
          <textarea [(ngModel)]="commands" (ngModelChange)="onCommandsChange($event)"
            [ngModelOptions]="{standalone: true}" style="min-height: 450px;" nzAutosize nzSize="large" nz-input
            name="commands" type="text" id="commands"></textarea>
        </nz-form-control>
      </nz-form-item>
    </form>
  </nz-card>
</div>