<div class="main">
  <ng-template #newPayment>
    <nz-space>
      <button *nzSpaceItem [routerLink]="['new']" [nzLoading]="loading" (click)="addPayment()" nz-button
        nzType="primary" nzSize="default">
        Add Payment
      </button>
    </nz-space>
  </ng-template>
  <nz-card nzTitle="Payments" [nzExtra]="newPayment" nzSize="default">
    <nz-table #basicTable [nzData]="suggestions$ | async" [nzFrontPagination]="false" nzShowSizeChanger
      [nzTotal]="total" [nzPageSize]="pageSize" [nzPageIndex]="pageIndex" (nzPageIndexChange)="pageIndexChange($event)"
      [nzLoading]="isLoading" (nzPageSizeChange)="pageSizeChange($event)" nzSize="small">
      <thead>
        <tr>
          <th>Id</th>
          <th>Status</th>
          <th>Expiration Date</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of basicTable.data">
          <td>{{data.id}}</td>
          <td><nz-badge [nzStatus]="getStatusColor(data)"></nz-badge> {{getStatus(data)}}</td>
          <td>{{data.expireAt | date: 'MM/dd/yyyy'}}</td>
          <td>
            <button *ngIf="data.status === 0" nz-button (click)="pay(data.url)">Pay now</button>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </nz-card>
</div>